var w=document.getElementById("canvas"),t=w.getContext("2d"),e=Math.PI/3,h=Math.PI/6,l=200,c=n=>l*Math.cos(n),s=n=>l*Math.sin(n),M=(n,o)=>{t.beginPath(),t.arc(n,o,5,0,2*Math.PI),t.fill()};w.width=window.innerWidth;w.height=window.innerHeight;t.fillStyle=t.strokeStyle="white";t.scale(1,-1);t.translate(window.innerWidth/2,-window.innerHeight/2);var m=()=>{t.clearRect(-window.innerWidth/2,-window.innerHeight/2,window.innerWidth,window.innerHeight),t.beginPath(),t.arc(0,0,l,0,2*Math.PI),t.stroke(),t.beginPath(),t.moveTo(l,0),t.lineTo(0,0),t.lineTo(c(e),s(e)),t.stroke();let n=[],o=[h];for(let i=0;i<100&&o.length>0;i++){let d=[];for(let a of o)a<Math.PI&&d.push(2*Math.PI-a),(a<e||a>Math.PI+e)&&d.push((2*e-a+6*Math.PI)%(2*Math.PI));n=n.concat(o),o=d}n.forEach(i=>M(c(i),s(i)))};m();var r=0;window.onpointerdown=n=>r=Math.floor((3-1e-10)*n.x/window.innerWidth);window.onpointermove=n=>{if(r===0&&(e+=n.movementY/500+2*Math.PI,e%=Math.PI),r===2&&(h+=n.movementY/1e3+2*Math.PI,h%=Math.PI),r===1){let o=h/e;e+=n.movementY/500+2*Math.PI,e%=Math.PI,h=o*e}m()};
