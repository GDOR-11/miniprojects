document.getElementById("configuration-form").addEventListener("submit",a=>{let n=document.getElementById("num-pendulums-input").value||"NaN",m=document.getElementById("time-step-input").value||"NaN",o=document.getElementById("substeps-input").value||"NaN",u=document.getElementById("gravity-input").value||"NaN",s=document.getElementById("energy-input").checked,e=document.getElementById("angles-input").value||"",t=document.getElementById("angular-velocities-input").value||"";if([...e.matchAll(/,/g)].length+1!==Number(n)&&e.trim()!==""){a.preventDefault(),alert("please provide exactly N angles");return}if([...t.matchAll(/,/g)].length+1!==Number(n)&&t.trim()!==""){a.preventDefault(),alert("please provide exactly N angular velocities");return}e.trim()!==""&&(e=e.split(",").map(l=>Number(l.trim())*Math.PI/180).join(",")),t.trim()!==""&&(t=t.split(",").map(l=>Number(l.trim())*Math.PI/180).join(",")),window.localStorage.setItem("N",n),window.localStorage.setItem("dt",m),window.localStorage.setItem("substeps",o),window.localStorage.setItem("g",u),window.localStorage.setItem("const_energy",s.toString()),window.localStorage.setItem("angles",e),window.localStorage.setItem("velocities",t)});
